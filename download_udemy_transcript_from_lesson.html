<a href="javascript:(function()%7B%2F%2F%20Get%20the%20SVG%20anchor%20element%20by%20its%20ID%0Aconst%20transcriptToggleButton%20%3D%20document.querySelector('%5Bdata-purpose%3D%22transcript-toggle%22%5D')%3B%0Avar%20res%20%3D%20%5B%5D%3B%0Afunction%20downloadDataToFile()%20%7B%0A%20%20%20%20const%20data%20%3D%20get_transcript()%3B%0A%20%20%20%20const%20filename%20%3D%20document.URL.split(%22%2F%22).slice(-1)%5B0%5D%20%2B%20%22_transcript.txt%22%0A%20%20%20%20const%20blob%20%3D%20new%20Blob(%5Bdata%5D%2C%20%7Btype%3A%20'text%2Fplain'%7D)%3B%0A%20%20%20%20const%20url%20%3D%20URL.createObjectURL(blob)%3B%0A%20%20%20%20const%20link%20%3D%20document.createElement('a')%3B%0A%20%20%20%20link.href%20%3D%20url%3B%0A%20%20%20%20link.download%20%3D%20filename%3B%20%2F%2F%20The%20suggested%20file%20name%0A%20%20%20%20document.body.appendChild(link)%3B%0A%20%20%20%20link.click()%3B%0A%20%20%20%20document.body.removeChild(link)%3B%20%2F%2F%20Remove%20the%20link%20after%20clicking%0A%20%20%20%20URL.revokeObjectURL(url)%3B%20%2F%2F%20Free%20up%20memory%0A%7D%0A%0Afunction%20get_transcript()%7B%0A%20%20%20%20%20%0A%20%20%20%20%20var%20d%20%3D%20document.getElementsByClassName(%22transcript--underline-cue---xybZ%22)%0A%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20d.length%3B%20i%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20var%20dlen%20%3D%20d%5Bi%5D.innerText.length%0A%20%20%20%20%20%20%20%20%20%20var%20dlastchar%20%3D%20d%5Bi%5D.innerText.charAt(dlen-1)%0A%20%20%20%20%20%20%20%20%20%20res.push(d%5Bi%5D.innerText)%0A%20%20%20%20%20%20%20%20%20%20if%20(dlastchar%20%3D%3D%20%22.%22)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20res.push(%22%5Cn%22)%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%7D%0A%20%20%20%20%20console.debug(res.join(%22%20%22))%0A%20%20%20%20%20return%20res.join(%22%20%22)%0A%7D%0Ares.push(document.querySelector('%5Bdata-purpose%3D%22curriculum-item-viewer-content%22%5D').children%5B0%5D.ariaLabel)%0A%20%20%20%20%20res.push(%22%5Cn%22)%0A%20%20%20%20%20res.push(%22--------------------------------%22)%0A%20%20%20%20%20res.push(%22%5Cn%22)%0Aif%20(transcriptToggleButton.hasAttribute('aria-expanded'))%20%7B%0A%20%20%20%20%20console.debug(%22Transcript%20toggle%20button%20found%20with%20aria-expanded%20attribute.%20Current%20state%3A%20%22%20%2B%20transcriptToggleButton.getAttribute('aria-expanded'))%0A%20%20%20%20%20if%20(transcriptToggleButton.getAttribute('aria-expanded')%20%3D%3D%3D%20'false'%20%7C%7C%20transcriptToggleButton.getAttribute('aria-expanded')%20%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20transcriptToggleButton.click()%3B%0A%20%20%20%20%20%7D%20%0A%20%20%20%20%20if%20(transcriptToggleButton.getAttribute('aria-expanded')%20%3D%3D%3D%20'true'%20%7C%7C%20transcriptToggleButton.getAttribute('aria-expanded')%20%3D%3D%20true)%20%7B%0A%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20downloadDataToFile()%3B%0A%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%0A%7D%7D)()%3B">bookmarklet</a>
